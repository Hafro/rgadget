<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tools to Create and Maintain Gadget Models • Rgadget</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Tools to Create and Maintain Gadget Models">
<meta property="og:description" content="Companion R package for Gadget ecosystem modelling package &lt;https://hafro.github.io/gadget2&gt;.
             Manages creation and modification of input files for Gadget, as
             well as providing utilities to start model runs and digest outputs.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">Rgadget</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/an-example-gadget-model.html">An example Gadget model: cod in Icelandic waters</a>
    </li>
    <li>
      <a href="articles/building-models.html">Building models</a>
    </li>
    <li>
      <a href="articles/iterative_reweighting.html">Weighing likelihood components using Rgadget</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<hr>
<p>title: “Rgadget” output: html_document: keep_md: yes —</p>
<p>Rgadget is a set of useful utilities for gadget, a statistical multi-species multi-area marine ecosystem modelling toolbox.</p>
<p>This package aids in the developement of Gadget models in a number of ways. It can interact with Gadget, by manipulating input files, digest output and rudimentary plots.</p>
<p><a href="https://travis-ci.org/Hafro/rgadget"><img src="https://travis-ci.org/Hafro/rgadget.svg?branch=master" alt="Travis build status"></a></p>
<div id="prerequisites" class="section level2">
<h2 class="hasAnchor">
<a href="#prerequisites" class="anchor"></a>Prerequisites</h2>
<p>Gadget obviously, can be obtained from github.com/hafro/gadget</p>
</div>
<div id="installing" class="section level2">
<h2 class="hasAnchor">
<a href="#installing" class="anchor"></a>Installing</h2>
<p>You can use devtools to install this directly:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># install.packages("devtools")</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>devtools<span class="op">::</span><span class="kw"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"hafro/rgadget"</span>)</span></code></pre></div>
</div>
<div id="using" class="section level2">
<h2 class="hasAnchor">
<a href="#using" class="anchor"></a>Using</h2>
<p>To use Rgadget you will need to load it into memory:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(Rgadget)</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="kw">theme_set</span>(<span class="kw">theme_light</span>()) <span class="co">## set the plot theme (optional)</span></span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(patchwork)  <span class="co">## optional packages </span></span>
<span id="cb2-6"><a href="#cb2-6"></a>scale_fill_crayola &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">n =</span> <span class="dv">100</span>, ...) {</span>
<span id="cb2-7"><a href="#cb2-7"></a>  </span>
<span id="cb2-8"><a href="#cb2-8"></a>  <span class="co"># taken from RColorBrewer::brewer.pal(12, "Paired")</span></span>
<span id="cb2-9"><a href="#cb2-9"></a>  pal &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"#A6CEE3"</span>, <span class="st">"#1F78B4"</span>, <span class="st">"#B2DF8A"</span>, <span class="st">"#33A02C"</span>,</span>
<span id="cb2-10"><a href="#cb2-10"></a>           <span class="st">"#FB9A99"</span>, <span class="st">"#E31A1C"</span>, <span class="st">"#FDBF6F"</span>, <span class="st">"#FF7F00"</span>,</span>
<span id="cb2-11"><a href="#cb2-11"></a>           <span class="st">"#CAB2D6"</span>, <span class="st">"#6A3D9A"</span>, <span class="st">"#FFFF99"</span>, <span class="st">"#B15928"</span>)</span>
<span id="cb2-12"><a href="#cb2-12"></a>  pal &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(pal, n)</span>
<span id="cb2-13"><a href="#cb2-13"></a>  ggplot2<span class="op">::</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span>(<span class="dt">values =</span> pal, ...)</span>
<span id="cb2-14"><a href="#cb2-14"></a>  </span>
<span id="cb2-15"><a href="#cb2-15"></a>}</span></code></pre></div>
<p>To illustrate the use of Gadget we will use a model for cod in Icelandic waters atteched to the package. You can access the model using the following code:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">'extdata'</span>, <span class="st">'cod_model.tgz'</span>, <span class="dt">package =</span> <span class="st">'Rgadget'</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/utils/untar.html">untar</a></span>(<span class="dt">exdir =</span> <span class="kw"><a href="https://rdrr.io/r/base/path.expand.html">path.expand</a></span>(<span class="st">'./gadget_example/'</span>))</span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">## change the working directory to the location of the gadget model</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="kw"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span>(<span class="st">'gadget_example/cod_model'</span>)</span></code></pre></div>
<p>To estimate the model parameters the suggested procedure is to use the iterative reweighting approach with is implemented in the <code>gadget.iterative</code> function (see <code><a href="reference/gadget.iterative.html">?gadget.iterative</a></code> for further details).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw"><a href="reference/gadget.iterative.html">gadget.iterative</a></span>(<span class="dt">main=</span><span class="st">'main'</span>,</span>
<span id="cb4-2"><a href="#cb4-2"></a>                 <span class="dt">grouping=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">sind1=</span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'si.gp1'</span>,<span class="st">'si.gp1a'</span>),</span>
<span id="cb4-3"><a href="#cb4-3"></a>                               <span class="dt">sind2=</span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'si.gp2'</span>,<span class="st">'si.gp2a'</span>),</span>
<span id="cb4-4"><a href="#cb4-4"></a>                               <span class="dt">sind3=</span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'si.gp3'</span>,<span class="st">'si.gp3a'</span>)),</span>
<span id="cb4-5"><a href="#cb4-5"></a>                 <span class="dt">params.file =</span> <span class="st">'params.in'</span>,</span>
<span id="cb4-6"><a href="#cb4-6"></a>                 <span class="dt">wgts=</span><span class="st">'WGTS'</span>)</span></code></pre></div>
<p>This function calls Gadget which behind the scenes does the parameter estimation which we will use. To obtain information on the model fit and properties of the model one can use the <code>gadget.fit</code> function to query the model:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>fit &lt;-<span class="st"> </span><span class="kw"><a href="reference/gadget.fit.html">gadget.fit</a></span>()</span></code></pre></div>
<p>The <code>fit</code> object is essentially a list of data.frames that contain the likelihood data merged with the model output.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>fit <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>()</span></code></pre></div>
<pre><code>##  [1] "sidat"             "resTable"          "nesTable"         
##  [4] "suitability"       "stock.growth"      "stock.recruitment"
##  [7] "res.by.year"       "stomachcontent"    "likelihoodsummary"
## [10] "catchdist.fleets"  "stockdist"         "SS"               
## [13] "stock.full"        "stock.std"         "stock.prey"       
## [16] "fleet.info"        "predator.prey"     "params"           
## [19] "catchstatistics"</code></pre>
<p>and one can access those data.frames simply by calling their name:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>fit<span class="op">$</span>sidat</span></code></pre></div>
<pre><code>## # A tibble: 135 x 20
##    name  area  label  year  step number intercept slope   sse stocknames
##    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;     
##  1 si.g… area1 leng…  1985     2 2.31e8     -35.3  2.21  4.53 codimm    
##  2 si.g… area1 leng…  1986     2 1.53e8     -35.3  2.21  4.53 codimm    
##  3 si.g… area1 leng…  1987     2 8.71e7     -35.3  2.21  4.53 codimm    
##  4 si.g… area1 leng…  1988     2 1.18e8     -35.3  2.21  4.53 codimm    
##  5 si.g… area1 leng…  1989     2 9.48e7     -35.3  2.21  4.53 codimm    
##  6 si.g… area1 leng…  1990     2 1.48e8     -35.3  2.21  4.53 codimm    
##  7 si.g… area1 leng…  1991     2 1.13e8     -35.3  2.21  4.53 codimm    
##  8 si.g… area1 leng…  1992     2 5.16e7     -35.3  2.21  4.53 codimm    
##  9 si.g… area1 leng…  1993     2 1.20e8     -35.3  2.21  4.53 codimm    
## 10 si.g… area1 leng…  1994     2 1.58e8     -35.3  2.21  4.53 codimm    
## # … with 125 more rows, and 10 more variables: sitype &lt;chr&gt;,
## #   fittype &lt;chr&gt;, length &lt;chr&gt;, age &lt;chr&gt;, survey &lt;chr&gt;, fleet &lt;chr&gt;,
## #   observed &lt;int&gt;, lower &lt;int&gt;, upper &lt;int&gt;, predict &lt;dbl&gt;</code></pre>
<p>For further information on what the relevant data.frames contain refer to the help page for <code>gadget.fit</code>.</p>
<p>In addition a plot routine for the <code>fit</code> object is implement in Rgadget. The input to the <code>plot</code> function is simply the <code>gadget.fit</code> object, the data set one wants to plot and the type. The default plot is a survey index plot:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(fit)</span></code></pre></div>
<p><img src="README_files/figure-html/unnamed-chunk-8-1.png"><!-- --></p>
<p>To produce a likelihood summary:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(fit,<span class="dt">data=</span><span class="st">'summary'</span>)</span></code></pre></div>
<p><img src="README_files/figure-html/unnamed-chunk-9-1.png"><!-- --></p>
<p>A weighted summary plot:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(fit,<span class="dt">data=</span><span class="st">'summary'</span>,<span class="dt">type =</span> <span class="st">'weighted'</span>)</span></code></pre></div>
<p><img src="README_files/figure-html/unnamed-chunk-10-1.png"><!-- --></p>
<p>and an pie chart of likelihood components:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(fit,<span class="dt">data=</span><span class="st">'summary'</span>,<span class="dt">type=</span><span class="st">'pie'</span>)</span></code></pre></div>
<pre><code>## Warning in RColorBrewer::brewer.pal(n, pal): n too large, allowed maximum for palette Spectral is 11
## Returning the palette you asked for with that many colors</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-11-1.png"><!-- --></p>
<p>To plot the fit to catch proportions (either length or age) you simply do:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>tmp &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(fit,<span class="dt">data =</span> <span class="st">'catchdist.fleets'</span>)</span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(tmp)</span></code></pre></div>
<pre><code>## [1] "alkeys.aut"  "alkeys.comm" "alkeys.igfs" "ldist.aut"   "ldist.comm" 
## [6] "ldist.igfs"</code></pre>
<p>and then plot them one by one:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>tmp<span class="op">$</span>alkeys.aut</span></code></pre></div>
<p><img src="README_files/figure-html/unnamed-chunk-13-1.png"><!-- --></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>tmp<span class="op">$</span>ldist.aut</span></code></pre></div>
<p><img src="README_files/figure-html/unnamed-chunk-14-1.png"><!-- --></p>
<p>One can also produce bubble plots</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>bubbles &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(fit,<span class="dt">data =</span> <span class="st">'catchdist.fleets'</span>,<span class="dt">type=</span><span class="st">'bubble'</span>)</span></code></pre></div>
<pre><code>## Joining, by = "name"
## Joining, by = "name"</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(bubbles)</span></code></pre></div>
<pre><code>## [1] "ldist"  "aldist"</code></pre>
<p>Age bubbles</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>bubbles<span class="op">$</span>aldist</span></code></pre></div>
<p><img src="README_files/figure-html/unnamed-chunk-16-1.png"><!-- --></p>
<p>Length bubbles</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>bubbles<span class="op">$</span>ldist</span></code></pre></div>
<p><img src="README_files/figure-html/unnamed-chunk-17-1.png"><!-- --></p>
<p>One can also illustrate the fit to growth in the model:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>grplot &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(fit,<span class="dt">data =</span> <span class="st">'catchdist.fleets'</span>,<span class="dt">type=</span><span class="st">'growth'</span>)</span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(grplot)</span></code></pre></div>
<pre><code>## [1] "alkeys.aut"  "alkeys.comm" "alkeys.igfs"</code></pre>
<p>Illstrate the fit to the autumn survey</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>grplot<span class="op">$</span>alkeys.aut</span></code></pre></div>
<pre><code>## Warning: Removed 1 rows containing missing values (geom_point).</code></pre>
<pre><code>## Warning: Removed 4 rows containing missing values (geom_linerange).</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-19-1.png"><!-- --></p>
<p>And the fit to maturity data:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(fit,<span class="dt">data=</span><span class="st">'stockdist'</span>)</span></code></pre></div>
<pre><code>## $matp.igfs</code></pre>
<pre><code>## Warning: Removed 52 rows containing missing values (geom_point).</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-20-1.png"><!-- --></p>
<p>And selection by year and step</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(fit,<span class="dt">data=</span><span class="st">"suitability"</span>)</span></code></pre></div>
<p><img src="README_files/figure-html/unnamed-chunk-21-1.png"><!-- --></p>
<p>Age age compostion</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(fit,<span class="dt">data=</span><span class="st">'stock.std'</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_fill_crayola</span>()</span></code></pre></div>
<p><img src="README_files/figure-html/unnamed-chunk-22-1.png"><!-- --></p>
<p>And the standard ices plots</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(fit,<span class="dt">data=</span><span class="st">'res.by.year'</span>,<span class="dt">type=</span><span class="st">'total'</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">'none'</span>) <span class="op">+</span></span>
<span id="cb35-2"><a href="#cb35-2"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(fit,<span class="dt">data=</span><span class="st">'res.by.year'</span>,<span class="dt">type=</span><span class="st">'F'</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">'none'</span>) <span class="op">+</span></span>
<span id="cb35-3"><a href="#cb35-3"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(fit,<span class="dt">data =</span> <span class="st">'res.by.year'</span>,<span class="dt">type=</span><span class="st">'catch'</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">'none'</span>) <span class="op">+</span></span>
<span id="cb35-4"><a href="#cb35-4"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(fit, <span class="dt">data=</span><span class="st">'res.by.year'</span>,<span class="dt">type=</span><span class="st">'rec'</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 52 rows containing missing values (geom_path).</code></pre>
<p><img src="README_files/figure-html/unnamed-chunk-23-1.png"><!-- --></p>
</div>
<div id="acknowledgements" class="section level2">
<h2 class="hasAnchor">
<a href="#acknowledgements" class="anchor"></a>Acknowledgements</h2>
<p>This project has received funding from the European Union’s Seventh Framework Programme for research, technological development and demonstration under grant agreement no.613571.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>GPL</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Bjarki Thor Elvarsson <br><small class="roles"> Author, maintainer </small>  </li>
<li>Jamie Lentin <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Bjarki Thor Elvarsson, Jamie Lentin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
